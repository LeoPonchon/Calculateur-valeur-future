<!doctype html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Simulateur PEA + Compte Titres</title>
        <link rel="stylesheet" href="css/style.css" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body>
        <div class="container">
            <h1>Simulateur PEA + Compte Titres</h1>

            <!-- Section PEA -->
            <div class="form-section">
                <h2 class="section-title">Param√®tres PEA</h2>

                <div class="form-group">
                    <label>Versement initial (‚Ç¨)</label>
                    <input type="number" id="initial" placeholder="Ex: 10000" />
                </div>

                <div class="form-group">
                    <label>Versement annuel (‚Ç¨)</label>
                    <input
                        type="number"
                        id="annual-contribution"
                        placeholder="Ex: 6000"
                    />
                </div>

                <div class="form-group">
                    <label>Ann√©es de versement</label>
                    <input
                        type="number"
                        id="contributing-years"
                        placeholder="Ex: 20"
                    />
                </div>

                <div class="form-group">
                    <label>√Çge actuel</label>
                    <input
                        type="number"
                        id="starting-age"
                        placeholder="Ex: 30"
                    />
                </div>

                <div class="form-group">
                    <label>Rendement annuel (%)</label>
                    <input
                        type="number"
                        id="return"
                        placeholder="Ex: 7"
                        step="0.1"
                    />
                </div>

                <div class="form-group">
                    <label>Retrait annuel (‚Ç¨)</label>
                    <input
                        type="number"
                        id="annual-withdrawal"
                        placeholder="Ex: 12000"
                    />
                </div>
            </div>

            <!-- Section Compte Titres -->
            <div class="form-section">
                <h2 class="section-title">
                    Compte Titres (automatique apr√®s PEA)
                </h2>

                <p style="color: #9ca3af; font-size: 14px; margin: 0 0 15px 0">
                    Une fois le plafond PEA atteint ou les versements termin√©s,
                    vos versements continueront automatiquement sur le Compte
                    Titres sans plafond de 150 000‚Ç¨.
                </p>

                <div class="form-group">
                    <label>Rendement annuel Compte Titres (%)</label>
                    <input
                        type="number"
                        id="ct-return"
                        placeholder="Ex: 7"
                        step="0.1"
                        value="7"
                    />
                </div>
            </div>

            <!-- Section Taux d'imposition -->
            <div class="form-section">
                <h2 class="section-title">üìä Taux d'imposition appliqu√©s</h2>

                <div
                    style="
                        display: grid;
                        grid-template-columns: repeat(
                            auto-fit,
                            minmax(250px, 1fr)
                        );
                        gap: 20px;
                    "
                >
                    <div
                        style="
                            background: rgba(59, 130, 246, 0.1);
                            padding: 15px;
                            border-radius: 8px;
                            border-left: 4px solid #3b82f6;
                        "
                    >
                        <h4
                            style="
                                color: #3b82f6;
                                margin: 0 0 10px 0;
                                font-size: 16px;
                            "
                        >
                            üíº PEA (apr√®s 5 ans)
                        </h4>
                        <p
                            style="
                                color: #d1d5db;
                                margin: 5px 0;
                                font-size: 14px;
                            "
                        >
                            <strong>Imposition au retrait : 17.2%</strong>
                        </p>
                        <p
                            style="
                                color: #9ca3af;
                                margin: 5px 0;
                                font-size: 13px;
                            "
                        >
                            ‚Ä¢ <strong>Pas d'imp√¥t pendant la d√©tention</strong
                            ><br />
                            ‚Ä¢ 17.2% Pr√©l√®vements sociaux au retrait<br />
                            ‚Ä¢ 0% Imp√¥t sur le revenu (exon√©r√©)<br />
                            ‚Ä¢ Uniquement sur la part de plus-value
                        </p>
                    </div>

                    <div
                        style="
                            background: rgba(6, 182, 212, 0.1);
                            padding: 15px;
                            border-radius: 8px;
                            border-left: 4px solid #06b6d4;
                        "
                    >
                        <h4
                            style="
                                color: #06b6d4;
                                margin: 0 0 10px 0;
                                font-size: 16px;
                            "
                        >
                            üìà Compte Titres
                        </h4>
                        <p
                            style="
                                color: #d1d5db;
                                margin: 5px 0;
                                font-size: 14px;
                            "
                        >
                            <strong>Imposition au retrait : 30%</strong>
                        </p>
                        <p
                            style="
                                color: #9ca3af;
                                margin: 5px 0;
                                font-size: 13px;
                            "
                        >
                            ‚Ä¢ <strong>Pas d'imp√¥t pendant la d√©tention</strong
                            ><br />
                            ‚Ä¢ 30% Flat tax au retrait (17.2% + 12.8%)<br />
                            ‚Ä¢ Uniquement sur la part de plus-value<br />
                            ‚Ä¢ Option bar√®me progressif possible
                        </p>
                    </div>
                </div>

                <p
                    style="
                        color: #9ca3af;
                        font-size: 13px;
                        margin: 15px 0 0 0;
                        text-align: center;
                    "
                >
                    ‚ö†Ô∏è Les montants affich√©s sont
                    <strong>bruts (avant imp√¥ts)</strong>. L'imposition (17.2%
                    PEA / 30% CT) est appliqu√©e uniquement sur les plus-values
                    au moment des retraits.
                </p>
            </div>

            <!-- R√©sultats -->
            <div class="result">
                <h2>Valeur √† la retraite</h2>
                <p id="result">0 ‚Ç¨</p>
            </div>

            <div
                id="cap-warning"
                style="
                    display: none;
                    background-color: #f59e0b;
                    color: white;
                    padding: 12px;
                    border-radius: 8px;
                    margin-bottom: 20px;
                    font-weight: bold;
                "
            ></div>

            <!-- Tableau -->
            <div class="table-container">
                <h3>D√©tails ann√©e par ann√©e</h3>
                <table id="yearly-table">
                    <thead>
                        <tr>
                            <th>√Çge</th>
                            <th>Phase</th>
                            <th>Valeur PEA</th>
                            <th>Valeur CT</th>
                            <th>Total financier</th>
                            <th>Total vers√© PEA</th>
                            <th>Total vers√© CT</th>
                            <th>Versement r√©el PEA</th>
                            <th>Gain annuel</th>
                            <th>Gain cumul√©</th>
                        </tr>
                    </thead>
                    <tbody id="yearly-data"></tbody>
                </table>
            </div>

            <!-- Graphique -->
            <div class="chart-container">
                <canvas id="chart"></canvas>
            </div>
        </div>

        <script src="js/app.js"></script>
    </body>
</html>
