<!doctype html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Simulateur PEA + Compte Titres</title>
        <link rel="stylesheet" href="css/style.css" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body>
        <div class="container">
            <h1>ğŸ’¼ Simulateur PEA + Compte Titres</h1>

            <!-- Section PEA -->
            <div class="form-section">
                <h2 class="section-title">ğŸ“Š ParamÃ¨tres de base</h2>

                <div class="form-group">
                    <label>ğŸ’° Versement initial (â‚¬)</label>
                    <input type="number" id="initial" placeholder="Ex: 10000" />
                </div>

                <div class="form-group">
                    <label>ğŸ“… Versement annuel (â‚¬)</label>
                    <input
                        type="number"
                        id="annual-contribution"
                        placeholder="Ex: 6000"
                    />
                </div>

                <div class="form-group">
                    <label>â° DurÃ©e de versement (annÃ©es)</label>
                    <input
                        type="number"
                        id="contributing-years"
                        placeholder="Ex: 20"
                    />
                </div>

                <div class="form-group">
                    <label>ğŸ‚ Ã‚ge actuel</label>
                    <input
                        type="number"
                        id="starting-age"
                        placeholder="Ex: 30"
                    />
                </div>

                <div class="form-group">
                    <label>ğŸ“ˆ Rendement annuel (%)</label>
                    <input
                        type="number"
                        id="return"
                        placeholder="Ex: 7"
                        step="0.1"
                    />
                </div>
            </div>

            <!-- Section Retraite -->
            <div class="form-section">
                <h2 class="section-title">ğŸ’µ Retraits Ã  la retraite</h2>

                <div class="form-group">
                    <label>ğŸ¦ Retrait annuel PEA (â‚¬)</label>
                    <input
                        type="number"
                        id="pea-withdrawal"
                        placeholder="Ex: 12000"
                    />
                </div>

                <div class="form-group">
                    <label>ğŸ“Š Retrait annuel Compte Titres (â‚¬)</label>
                    <input
                        type="number"
                        id="ct-withdrawal"
                        placeholder="Ex: 0"
                    />
                </div>

                <p
                    style="
                        color: #10b981;
                        font-size: 13px;
                        margin: 10px 0 0 0;
                        padding: 12px;
                        background: rgba(16, 185, 129, 0.1);
                        border-radius: 6px;
                        border-left: 3px solid #10b981;
                    "
                >
                    ğŸ’¡ <strong>Conseil</strong> : Priorisez le PEA (17.2%
                    d'impÃ´t) plutÃ´t que le Compte Titres (30% d'impÃ´t) pour
                    optimiser vos impÃ´ts.
                </p>
            </div>

            <!-- Section Compte Titres -->
            <div class="form-section">
                <h2 class="section-title">
                    ğŸ“ˆ Compte Titres (automatique aprÃ¨s PEA)
                </h2>

                <p
                    style="
                        color: #06b6d4;
                        font-size: 13px;
                        margin: 0 0 15px 0;
                        padding: 10px;
                        background: rgba(6, 182, 212, 0.1);
                        border-radius: 6px;
                        border-left: 3px solid #06b6d4;
                    "
                >
                    âœ¨ Une fois le plafond PEA atteint (150 000â‚¬) ou les
                    versements terminÃ©s, vos versements continueront
                    automatiquement sur le Compte Titres.
                </p>

                <div class="form-group">
                    <label>ğŸ“Š Rendement annuel Compte Titres (%)</label>
                    <input
                        type="number"
                        id="ct-return"
                        placeholder="Ex: 7"
                        step="0.1"
                        value="7"
                    />
                </div>
            </div>

            <!-- Section Taux d'imposition -->
            <div class="form-section">
                <h2 class="section-title">ğŸ“‹ Taux d'imposition (France)</h2>

                <div
                    style="
                        display: grid;
                        grid-template-columns: repeat(
                            auto-fit,
                            minmax(250px, 1fr)
                        );
                        gap: 20px;
                    "
                >
                    <div
                        style="
                            background: rgba(59, 130, 246, 0.1);
                            padding: 15px;
                            border-radius: 8px;
                            border-left: 4px solid #3b82f6;
                        "
                    >
                        <h4
                            style="
                                color: #3b82f6;
                                margin: 0 0 10px 0;
                                font-size: 16px;
                            "
                        >
                            ğŸ’¼ PEA (aprÃ¨s 5 ans)
                        </h4>
                        <p
                            style="
                                color: #d1d5db;
                                margin: 5px 0;
                                font-size: 14px;
                            "
                        >
                            <strong>Imposition au retrait : 17.2%</strong>
                        </p>
                        <p
                            style="
                                color: #9ca3af;
                                margin: 5px 0;
                                font-size: 13px;
                            "
                        >
                            â€¢ <strong>Pas d'impÃ´t pendant la dÃ©tention</strong
                            ><br />
                            â€¢ 17.2% PrÃ©lÃ¨vements sociaux au retrait<br />
                            â€¢ 0% ImpÃ´t sur le revenu (exonÃ©rÃ©)<br />
                            â€¢ Uniquement sur la part de plus-value
                        </p>
                    </div>

                    <div
                        style="
                            background: rgba(6, 182, 212, 0.1);
                            padding: 15px;
                            border-radius: 8px;
                            border-left: 4px solid #06b6d4;
                        "
                    >
                        <h4
                            style="
                                color: #06b6d4;
                                margin: 0 0 10px 0;
                                font-size: 16px;
                            "
                        >
                            ğŸ“ˆ Compte Titres
                        </h4>
                        <p
                            style="
                                color: #d1d5db;
                                margin: 5px 0;
                                font-size: 14px;
                            "
                        >
                            <strong>Imposition au retrait : 30%</strong>
                        </p>
                        <p
                            style="
                                color: #9ca3af;
                                margin: 5px 0;
                                font-size: 13px;
                            "
                        >
                            â€¢ <strong>Pas d'impÃ´t pendant la dÃ©tention</strong
                            ><br />
                            â€¢ 30% Flat tax au retrait (17.2% + 12.8%)<br />
                            â€¢ Uniquement sur la part de plus-value<br />
                            â€¢ Option barÃ¨me progressif possible
                        </p>
                    </div>
                </div>

                <p
                    style="
                        color: #9ca3af;
                        font-size: 13px;
                        margin: 15px 0 0 0;
                        text-align: center;
                    "
                >
                    âš ï¸ Les montants affichÃ©s sont
                    <strong>bruts (avant impÃ´ts)</strong>. L'imposition (17.2%
                    PEA / 30% CT) est appliquÃ©e uniquement sur les plus-values
                    au moment des retraits.
                </p>
            </div>

            <!-- RÃ©sultats -->
            <div class="result">
                <h2>ğŸ¯ Valeur Ã  la retraite</h2>
                <p id="result">0 â‚¬</p>
            </div>

            <div
                id="cap-warning"
                style="
                    display: none;
                    background-color: #f59e0b;
                    color: white;
                    padding: 12px;
                    border-radius: 8px;
                    margin-bottom: 20px;
                    font-weight: bold;
                "
            ></div>

            <!-- Tableau -->
            <div class="table-container">
                <h3>ğŸ“Š DÃ©tails annÃ©e par annÃ©e</h3>
                <table id="yearly-table">
                    <thead>
                        <tr>
                            <th>Ã‚ge</th>
                            <th>Phase</th>
                            <th>Valeur PEA</th>
                            <th>Total versÃ© PEA</th>
                            <th>Valeur CT</th>
                            <th>Total versÃ© CT</th>
                            <th>Gain annuel</th>
                            <th>Gain cumulÃ©</th>
                            <th>Total financier</th>
                        </tr>
                    </thead>
                    <tbody id="yearly-data"></tbody>
                </table>
            </div>

            <!-- Graphique -->
            <div class="chart-container">
                <canvas id="chart"></canvas>
            </div>
        </div>

        <script src="js/app.js"></script>
    </body>
</html>
